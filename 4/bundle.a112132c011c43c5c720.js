(()=>{"use strict";const e="afterbegin";function t(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function n(e,t,n="beforeend"){t.insertAdjacentElement(n,e.getElement())}class i{constructor(){this._element=null}getTemplate(){return'<div class="trip-controls__filters">\n  <h2 class="visually-hidden">Filter events</h2>\n  <form class="trip-filters" action="#" method="get">\n    <div class="trip-filters__filter">\n      <input id="filter-everything" class="trip-filters__filter-input visually-hidden" type="radio" name="trip-filter" value="everything" checked>\n      <label class="trip-filters__filter-label" for="filter-everything">Everything</label>\n    </div>\n    <div class="trip-filters__filter">\n      <input id="filter-future" class="trip-filters__filter-input visually-hidden" type="radio" name="trip-filter" value="future" disabled>\n      <label class="trip-filters__filter-label" for="filter-future">Future</label>\n    </div>\n    <div class="trip-filters__filter">\n      <input id="filter-present" class="trip-filters__filter-input visually-hidden" type="radio" name="trip-filter" value="present">\n      <label class="trip-filters__filter-label" for="filter-present">Present</label>\n    </div>\n    <div class="trip-filters__filter">\n      <input id="filter-past" class="trip-filters__filter-input visually-hidden" type="radio" name="trip-filter" value="past" disabled>\n      <label class="trip-filters__filter-label" for="filter-past">Past</label>\n    </div>\n    <button class="visually-hidden" type="submit">Accept filter</button>\n  </form>\n</div>'}getElement(){return this._element||(this._element=t(this.getTemplate())),this._element}removeElement(){this._element=null}}class s{constructor(){this._element=null}getTemplate(){return'<form class="trip-events__trip-sort  trip-sort" action="#" method="get">\n  <div class="trip-sort__item  trip-sort__item--day">\n    <input id="sort-day" class="trip-sort__input visually-hidden" type="radio" name="trip-sort" value="sort-day" checked>\n    <label class="trip-sort__btn" for="sort-day">Day</label>\n  </div>\n  <div class="trip-sort__item  trip-sort__item--event">\n    <input id="sort-event" class="trip-sort__input visually-hidden" type="radio" name="trip-sort" value="sort-event" disabled>\n    <label class="trip-sort__btn" for="sort-event">Event</label>\n  </div>\n  <div class="trip-sort__item  trip-sort__item--time">\n    <input id="sort-time" class="trip-sort__input visually-hidden" type="radio" name="trip-sort" value="sort-time">\n    <label class="trip-sort__btn" for="sort-time">Time</label>\n  </div>\n  <div class="trip-sort__item  trip-sort__item--price">\n    <input id="sort-price" class="trip-sort__input visually-hidden" type="radio" name="trip-sort" value="sort-price">\n    <label class="trip-sort__btn" for="sort-price">Price</label>\n  </div>\n  <div class="trip-sort__item  trip-sort__item--offer">\n    <span class="trip-sort__btn">Offers</span>\n  </div>\n</form>'}getElement(){return this._element||(this._element=t(this.getTemplate())),this._element}removeElement(){this._element=null}}class l{constructor(e){this._point=e||{type:"flight",destination:{name:"",description:"",photos:[]},startTime:"",endTime:"",price:0,offers:[]},this._element=null}getTemplate(){const{type:e,destination:t,startTime:n,endTime:i,price:s,offers:l}=this._point,a=l.length?`<div class="event__available-offers">\n          ${l.map((e=>`\n            <div class="event__offer-selector">\n              <input class="event__offer-checkbox visually-hidden" id="event-offer-${e.id}" type="checkbox" name="event-offer-${e.id}" checked>\n              <label class="event__offer-label" for="event-offer-${e.id}">\n                <span class="event__offer-title">${e.title}</span>\n                &plus;&euro;&nbsp;\n                <span class="event__offer-price">${e.price}</span>\n              </label>\n            </div>`)).join("")}\n        </div>`:"",p=t.photos?.length?`<div class="event__photos-container">\n           <div class="event__photos-tape">\n             ${t.photos.map((e=>`<img class="event__photo" src="${e}" alt="Event photo">`)).join("")}\n           </div>\n         </div>`:"";return`<li class="trip-events__item">\n      <form class="event event--edit" action="#" method="post">\n          <header class="event__header">\n              <div class="event__type-wrapper">\n                  <label class="event__type  event__type-btn" for="event-type-toggle-1">\n                      <span class="visually-hidden">Choose event type</span>\n                      <img class="event__type-icon" width="17" height="17" src="img/icons/${e}.png" alt="Event type icon">\n                  </label>\n                  <input class="event__type-toggle  visually-hidden" id="event-type-toggle-1" type="checkbox">\n\n                  <div class="event__type-list">\n                      <fieldset class="event__type-group">\n                          <legend class="visually-hidden">Event type</legend>\n\n                          <div class="event__type-item">\n                              <input id="event-type-taxi-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value="taxi">\n                              <label class="event__type-label  event__type-label--taxi" for="event-type-taxi-1">Taxi</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-bus-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value="bus">\n                              <label class="event__type-label  event__type-label--bus" for="event-type-bus-1">Bus</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-train-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value="train">\n                              <label class="event__type-label  event__type-label--train" for="event-type-train-1">Train</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-ship-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value="ship">\n                              <label class="event__type-label  event__type-label--ship" for="event-type-ship-1">Ship</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-drive-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value="drive">\n                              <label class="event__type-label  event__type-label--drive" for="event-type-drive-1">Drive</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-flight-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value="flight" checked>\n                              <label class="event__type-label  event__type-label--flight" for="event-type-flight-1">Flight</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-check-in-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value="check-in">\n                              <label class="event__type-label  event__type-label--check-in" for="event-type-check-in-1">Check-in</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-sightseeing-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value="sightseeing">\n                              <label class="event__type-label  event__type-label--sightseeing" for="event-type-sightseeing-1">Sightseeing</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-restaurant-1" class="event__type-input  visually-hidden" type="radio" name="event-type" value="restaurant">\n                              <label class="event__type-label  event__type-label--restaurant" for="event-type-restaurant-1">Restaurant</label>\n                          </div>\n                      </fieldset>\n                  </div>\n              </div>\n\n              <div class="event__field-group  event__field-group--destination">\n                  <label class="event__label  event__type-output" for="event-destination-1">\n                      ${e}\n                  </label>\n                  <input class="event__input  event__input--destination" id="event-destination-1" type="text" name="event-destination" value="${t.name}" list="destination-list-1">\n                  <datalist id="destination-list-1">\n                      <option value="Amsterdam"></option>\n                      <option value="Geneva"></option>\n                      <option value="Chamonix"></option>\n                  </datalist>\n              </div>\n\n              <div class="event__field-group  event__field-group--time">\n                  <label class="visually-hidden" for="event-start-time-1">From</label>\n                  <input class="event__input  event__input--time" id="event-start-time-1" type="text" name="event-start-time" value="${n}">\n                  &mdash;\n                  <label class="visually-hidden" for="event-end-time-1">To</label>\n                  <input class="event__input  event__input--time" id="event-end-time-1" type="text" name="event-end-time" value="${i}">\n              </div>\n\n              <div class="event__field-group  event__field-group--price">\n                  <label class="event__label" for="event-price-1">\n                      <span class="visually-hidden">Price</span>\n                      &euro;\n                  </label>\n                  <input class="event__input  event__input--price" id="event-price-1" type="text" name="event-price" value="${s}">\n              </div>\n\n              <button class="event__save-btn  btn  btn--blue" type="submit">Save</button>\n              <button class="event__reset-btn" type="reset">Cancel</button>\n          </header>\n          <section class="event__details">\n              <section class="event__section  event__section--offers">\n                  <h3 class="event__section-title  event__section-title--offers">Offers</h3>\n                  ${a}\n              </section>\n\n              <section class="event__section  event__section--destination">\n                  <h3 class="event__section-title  event__section-title--destination">Destination</h3>\n                  ${t.description?`<p class="event__destination-description">${t.description}</p>`:""}\n                  ${p}\n              </section>\n          </section>\n      </form>\n  </li>`}getElement(){return this._element||(this._element=t(this.getTemplate())),this._element}removeElement(){this._element=null}}class a{constructor(e){this._point=e||{type:"flight",destination:{name:"",description:"",photos:[]},startTime:"",endTime:"",price:"",offers:[]},this._element=null}getTemplate(){const{type:e,destination:t,startTime:n,endTime:i,price:s,offers:l}=this._point,a=l.length?`<div class="event__available-offers">\n          ${l.map((e=>`\n            <div class="event__offer-selector">\n              <input class="event__offer-checkbox visually-hidden" id="event-offer-${e.id}" type="checkbox" name="event-offer-${e.id}" checked>\n              <label class="event__offer-label" for="event-offer-${e.id}">\n                <span class="event__offer-title">${e.title}</span>\n                &plus;&euro;&nbsp;\n                <span class="event__offer-price">${e.price}</span>\n              </label>\n            </div>`)).join("")}\n        </div>`:"",p=t.photos?.length?`<div class="event__photos-container">\n           <div class="event__photos-tape">\n             ${t.photos.map((e=>`<img class="event__photo" src="${e}" alt="Event photo">`)).join("")}\n           </div>\n         </div>`:"";return`<li class="trip-events__item">\n      <form class="event event--edit" action="#" method="post">\n          <header class="event__header">\n              <div class="event__type-wrapper">\n                  <label class="event__type  event__type-btn" for="event-type-toggle-1">\n                      <span class="visually-hidden">Choose event type</span>\n                      <img class="event__type-icon" width="17" height="17" src="img/icons/${e}.png" alt="Event type icon">\n                  </label>\n                  <input class="event__type-toggle  visually-hidden" id="event-type-toggle-1" type="checkbox">\n\n                  <div class="event__type-list">\n                      <fieldset class="event__type-group">\n                          <legend class="visually-hidden">Event type</legend>\n\n                          <div class="event__type-item">\n                              <input id="event-type-taxi-1" class="event__type-input  visually-hidden" type="radio"\n                                     name="event-type" value="taxi">\n                              <label class="event__type-label  event__type-label--taxi"\n                                     for="event-type-taxi-1">Taxi</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-bus-1" class="event__type-input  visually-hidden" type="radio"\n                                     name="event-type" value="bus">\n                              <label class="event__type-label  event__type-label--bus" for="event-type-bus-1">Bus</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-train-1" class="event__type-input  visually-hidden" type="radio"\n                                     name="event-type" value="train">\n                              <label class="event__type-label  event__type-label--train"\n                                     for="event-type-train-1">Train</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-ship-1" class="event__type-input  visually-hidden" type="radio"\n                                     name="event-type" value="ship">\n                              <label class="event__type-label  event__type-label--ship"\n                                     for="event-type-ship-1">Ship</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-drive-1" class="event__type-input  visually-hidden" type="radio"\n                                     name="event-type" value="drive">\n                              <label class="event__type-label  event__type-label--drive"\n                                     for="event-type-drive-1">Drive</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-flight-1" class="event__type-input  visually-hidden" type="radio"\n                                     name="event-type" value="flight" checked>\n                              <label class="event__type-label  event__type-label--flight"\n                                     for="event-type-flight-1">Flight</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-check-in-1" class="event__type-input  visually-hidden" type="radio"\n                                     name="event-type" value="check-in">\n                              <label class="event__type-label  event__type-label--check-in" for="event-type-check-in-1">Check-in</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-sightseeing-1" class="event__type-input  visually-hidden" type="radio"\n                                     name="event-type" value="sightseeing">\n                              <label class="event__type-label  event__type-label--sightseeing"\n                                     for="event-type-sightseeing-1">Sightseeing</label>\n                          </div>\n\n                          <div class="event__type-item">\n                              <input id="event-type-restaurant-1" class="event__type-input  visually-hidden" type="radio"\n                                     name="event-type" value="restaurant">\n                              <label class="event__type-label  event__type-label--restaurant"\n                                     for="event-type-restaurant-1">Restaurant</label>\n                          </div>\n                      </fieldset>\n                  </div>\n              </div>\n\n              <div class="event__field-group  event__field-group--destination">\n                  <label class="event__label  event__type-output" for="event-destination-1">\n                      ${e}\n                  </label>\n                  <input class="event__input  event__input--destination" id="event-destination-1" type="text"\n                         name="event-destination" value="${t.name}" list="destination-list-1">\n                  <datalist id="destination-list-1">\n                      <option value="Amsterdam"></option>\n                      <option value="Geneva"></option>\n                      <option value="Chamonix"></option>\n                  </datalist>\n              </div>\n\n              <div class="event__field-group  event__field-group--time">\n                  <label class="visually-hidden" for="event-start-time-1">From</label>\n                  <input class="event__input  event__input--time" id="event-start-time-1" type="text"\n                         name="event-start-time" value="${n}">\n                  &mdash;\n                  <label class="visually-hidden" for="event-end-time-1">To</label>\n                  <input class="event__input  event__input--time" id="event-end-time-1" type="text" name="event-end-time"\n                         value="${i}">\n              </div>\n\n              <div class="event__field-group  event__field-group--price">\n                  <label class="event__label" for="event-price-1">\n                      <span class="visually-hidden">Price</span>\n                      &euro;\n                  </label>\n                  <input class="event__input  event__input--price" id="event-price-1" type="text" name="event-price"\n                         value="${s}">\n              </div>\n\n              <button class="event__save-btn  btn  btn--blue" type="submit">Save</button>\n              <button class="event__reset-btn" type="reset">Delete</button>\n              <button class="event__rollup-btn" type="button">\n                  <span class="visually-hidden">Open event</span>\n              </button>\n          </header>\n          <section class="event__details">\n              <section class="event__section  event__section--offers">\n                  <h3 class="event__section-title  event__section-title--offers">Offers</h3>\n                  ${a}\n              </section>\n\n              <section class="event__section  event__section--destination">\n                  <h3 class="event__section-title  event__section-title--destination">Destination</h3>\n                  <p class="event__destination-description">${t.description}</p>\n                  ${p}\n              </section>\n          </section>\n      </form>\n  </li>`}getElement(){return this._element||(this._element=t(this.getTemplate())),this._element}removeElement(){this._element=null}}class p{constructor(e){this._point=e,this._element=null}getTemplate(){const e=this._point.startTime.split("T")[0],t=this._point.startTime.substring(11,16),n=this._point.endTime.substring(11,16),i=`${this._point.type} to ${this._point.destination.name}`,s=this._point.offers?.length?`<h4 class="visually-hidden">Offers:</h4>\n         <ul class="event__selected-offers">\n           ${this._point.offers.map((e=>`<li class="event__offer">\n             <span class="event__offer-title">${e.title}</span>\n             &plus;&euro;&nbsp;\n             <span class="event__offer-price">${e.price}</span>\n           </li>`)).join("")}\n         </ul>`:"";return`<li class="trip-events__item">\n  <div class="event">\n    <time class="event__date" datetime="${e}">${e}</time>\n    <div class="event__type">\n      <img class="event__type-icon" width="42" height="42" src="img/icons/${this._point.type}.png" alt="Event type icon">\n    </div>\n    <h3 class="event__title">${i}</h3>\n    <div class="event__schedule">\n      <p class="event__time">\n        <time class="event__start-time" datetime="${this._point.startTime}">${t}</time>\n        &mdash;\n        <time class="event__end-time" datetime="${this._point.endTime}">${n}</time>\n      </p>\n    </div>\n    <p class="event__price">\n      &euro;&nbsp;<span class="event__price-value">${this._point.price}</span>\n    </p>\n    ${s}\n    <button class="event__favorite-btn" type="button">\n      <span class="visually-hidden">Add to favorite</span>\n      <svg class="event__favorite-icon" width="28" height="28" viewBox="0 0 28 28">\n        <path d="M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z"></path>\n      </svg>\n    </button>\n    <button class="event__rollup-btn" type="button">\n      <span class="visually-hidden">Open event</span>\n    </button>\n  </div>\n</li>`}getElement(){return this._element||(this._element=t(this.getTemplate())),this._element}removeElement(){this._element=null}}const v={geneva:{id:"geneva",name:"Geneva",description:"City in Switzerland",photos:["https://loremflickr.com/248/152?random=1"]},chamonix:{id:"chamonix",name:"Chamonix",description:"Mountain resort in the Alps",photos:["https://loremflickr.com/248/152?random=2"]},amsterdam:{id:"amsterdam",name:"Amsterdam",description:"The capital of the Netherlands",photos:["https://loremflickr.com/248/152?random=3"]}},r={taxi:[{id:"offer-luggage",title:"Add luggage",price:50},{id:"offer-comfort",title:"Switch to comfort",price:80}],drive:[{id:"offer-seats",title:"Choose seats",price:5}],flight:[]};class _{constructor(){this._points=[{id:"1",type:"taxi",destination:v.geneva,startTime:"2020-09-10T10:00",endTime:"2020-09-10T11:00",price:20,isFavorite:!1,offers:r.taxi},{id:"2",type:"flight",destination:v.chamonix,startTime:"2020-09-11T12:25",endTime:"2020-09-11T13:35",price:160,isFavorite:!1,offers:r.flight},{id:"3",type:"drive",destination:v.amsterdam,startTime:"2020-09-12T08:25",endTime:"2020-09-12T09:25",price:100,isFavorite:!0,offers:r.drive}]}getPoints(){return this._points}}(new class{init(){const t=document.querySelector(".trip-controls__filters");n(new i,t);const v=document.querySelector(".trip-events__list"),r=document.querySelector(".trip-events");n(new s,r,e);const o=(new _).getPoints();o.length&&n(new a(o[0]),v,e),o.forEach((e=>{n(new p(e),v)})),n(new l,v)}}).init()})();
//# sourceMappingURL=bundle.a112132c011c43c5c720.js.map